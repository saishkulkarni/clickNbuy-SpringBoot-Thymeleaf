<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ClickNBuy - Reset Password</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
<style>
body {
	background: #f8f9fa;
	display: flex;
	justify-content: center;
	align-items: center;
	height: 100vh;
}

.container-box {
	background: white;
	padding: 30px;
	border-radius: 10px;
	box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
	width: 100%;
	max-width: 400px;
	text-align: center;
}

.btn-green {
	background: #28a745;
	color: white;
	width: 100%;
	font-weight: 600;
}

.btn-green:hover {
	background: #1e7e34;
}

.toast-container {
	position: fixed;
	top: 1rem;
	right: 1rem;
	z-index: 1055;
}
</style>
</head>
<body>

	<div class="container-box">
		<h2>Set New Password</h2>
		<form action="/reset-password" method="post"
			th:object="${passwordDto}">
			<input type="hidden" name="id" th:value="${id}">
			<input
				type="number" class="form-control mb-3" th:field="*{otp}"
				placeholder="Enter OTP" required> <input
				type="password" class="form-control mb-3" th:field="*{password}"
				placeholder="New Password" required> <span class="danger"
				th:errors="*{password}"></span> <input type="password"
				class="form-control mb-3" th:field="*{confirmPassword}"
				placeholder="Confirm Password" required> <span
				class="danger" th:errors="*{confirmPassword}"></span>
			<button type="submit" class="btn btn-green">Update Password</button>
		</form>
	</div>

	<div class="toast-container" id="toastContainer"></div>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<script th:inline="javascript">
    let success = [[${success != null}]] ? '[[${success}]]' : null;
    let error = [[${error != null}]] ? '[[${error}]]' : null;
    showToast(success,"success"); showToast(error,"danger");
    function showToast(msg,type){ if(!msg) return;
        let html=`<div class="toast text-bg-${type} border-0 mb-2"><div class="d-flex"><div class="toast-body">${msg}</div><button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button></div></div>`;
        let c=document.getElementById("toastContainer");c.insertAdjacentHTML("beforeend",html);
        new bootstrap.Toast(c.lastElementChild,{delay:4000}).show();
    }
</script>
</body>
</html>
